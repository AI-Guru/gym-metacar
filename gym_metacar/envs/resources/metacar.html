<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>gym-metacar</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.7.1/pixi.min.js"></script>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/combine/npm/metacar@0.1.1,npm/metacar@0.1.1"></script>
    <script type="text/javascript">
    function displayState(id, state, width, height){
        var xSize = width / state[0].length;
        var ySize = height / state.length;
        var exist = false;
        var container = document.getElementById(id);

        if (container.innerHTML.length != 0){
            exist = true;
        }

        container.style.display = "inline-block";
        container.style.width = width+"px";
        container.style.height = height+"px";
        container.style.background = "red";

        let yPos = 0;
        for (let y = 0; y < state.length; y++){
            let xPos = 0;
            for (let x = 0; x < state[0].length; x++){
                let nDiv;
                if (!exist){
                    nDiv = document.createElement('div');
                    nDiv.id = id + "_" + y + "_" + x;
                    nDiv.style.display = "block";
                    nDiv.style.width = xSize+"px";
                    nDiv.style.height = ySize+"px";
                    nDiv.style.float = "left";
                    container.appendChild(nDiv);
                }
                else{
                    nDiv = document.getElementById(id + "_" + y + "_" + x);
                }
                if (state[y][x] == -1){ // road
                    nDiv.style.background = "#484848";
                }
                else if (state[y][x] == 0){ // Default
                    nDiv.style.background = "#80bf3e";
                }
                else{
                    nDiv.style.background = "#fdf9f5";
                }
                xPos += xSize;
            }
            yPos += ySize;
        }

    }
    </script>

    <div class="canvas" id="canvas" style="float: left"></div>
    <div id="lidar" style="float: right"></div>
</body>
</html>
